<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="VocaFlow.Views.VocabEditPage"
             Title="ç¼–è¾‘è¯æ±‡">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16">

            <!-- é¡µé¢æ ‡é¢˜ -->
            <Border StrokeShape="RoundRectangle 16"
                    Stroke="Transparent"
                    Padding="20"
                    BackgroundColor="{AppThemeBinding Light={StaticResource PrimaryLight}, Dark={StaticResource SurfaceDark}}">
                <HorizontalStackLayout Spacing="12" HorizontalOptions="Center">
                    <Label Text="âœï¸" FontSize="24"/>
                    <Label Text="ç¼–è¾‘è¯æ±‡" 
                           FontSize="20" 
                           FontAttributes="Bold"
                           TextColor="{StaticResource Primary}"
                           VerticalOptions="Center"/>
                </HorizontalStackLayout>
            </Border>

            <!-- è¯­è¨€æ˜¾ç¤ºå¡ç‰‡ -->
            <Border StrokeShape="RoundRectangle 14"
                    Stroke="Transparent"
                    Padding="16"
                    BackgroundColor="{AppThemeBinding Light={StaticResource SecondaryLight}, Dark={StaticResource SurfaceDark}}">
                <HorizontalStackLayout Spacing="10">
                    <Label Text="ðŸŒ" FontSize="18"/>
                    <Label Text="è¯­è¨€:" FontSize="15" TextColor="{StaticResource Gray500}"/>
                    <Label x:Name="LblLanguage" 
                           Text="æ—¥è¯­" 
                           FontSize="16"
                           FontAttributes="Bold"
                           TextColor="{StaticResource Secondary}"/>
                </HorizontalStackLayout>
            </Border>

            <!-- åŸºæœ¬ä¿¡æ¯å¡ç‰‡ -->
            <Border StrokeShape="RoundRectangle 16"
                    Stroke="Transparent"
                    Padding="20"
                    BackgroundColor="{AppThemeBinding Light={StaticResource CardBackground}, Dark={StaticResource CardBackgroundDark}}">
                <Border.Shadow>
                    <Shadow Brush="{StaticResource Gray400}"
                            Offset="0,4"
                            Radius="16"
                            Opacity="0.08"/>
                </Border.Shadow>
                <VerticalStackLayout Spacing="16">
                    <!-- è¯è¯­ -->
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="6">
                            <Label Text="ðŸ“" FontSize="14"/>
                            <Label Text="è¯è¯­" FontAttributes="Bold" FontSize="15"/>
                            <Label Text="*" TextColor="{StaticResource Danger}" FontSize="15"/>
                        </HorizontalStackLayout>
                        <Border StrokeShape="RoundRectangle 12"
                                Stroke="{StaticResource Gray200}"
                                StrokeThickness="1"
                                Padding="12,8"
                                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
                            <Entry x:Name="EntryWord" 
                                   Placeholder="è¯·è¾“å…¥è¯è¯­"
                                   TextChanged="OnRequiredFieldChanged"
                                   BackgroundColor="Transparent"/>
                        </Border>
                        <Label x:Name="LblWordError" 
                               Text="âš ï¸ è¯è¯­ä¸èƒ½ä¸ºç©º" 
                               TextColor="{StaticResource Danger}" 
                               FontSize="12"
                               IsVisible="False"/>
                    </VerticalStackLayout>

                    <!-- è¯»éŸ³ -->
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="6">
                            <Label Text="ðŸ”Š" FontSize="14"/>
                            <Label x:Name="LblReadingTitle" Text="è¯»éŸ³" FontAttributes="Bold" FontSize="15"/>
                            <Label Text="*" TextColor="{StaticResource Danger}" FontSize="15"/>
                        </HorizontalStackLayout>
                        <Border StrokeShape="RoundRectangle 12"
                                Stroke="{StaticResource Gray200}"
                                StrokeThickness="1"
                                Padding="12,8"
                                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
                            <Entry x:Name="EntryReading" 
                                   Placeholder="è¯·è¾“å…¥è¯»éŸ³"
                                   TextChanged="OnRequiredFieldChanged"
                                   BackgroundColor="Transparent"/>
                        </Border>
                        <Label x:Name="LblReadingError" 
                               Text="âš ï¸ è¯»éŸ³ä¸èƒ½ä¸ºç©º" 
                               TextColor="{StaticResource Danger}" 
                               FontSize="12"
                               IsVisible="False"/>
                    </VerticalStackLayout>

                    <!-- æ„æ€ -->
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="6">
                            <Label Text="ðŸ“–" FontSize="14"/>
                            <Label Text="æ„æ€" FontAttributes="Bold" FontSize="15"/>
                            <Label Text="*" TextColor="{StaticResource Danger}" FontSize="15"/>
                        </HorizontalStackLayout>
                        <Border StrokeShape="RoundRectangle 12"
                                Stroke="{StaticResource Gray200}"
                                StrokeThickness="1"
                                Padding="12,8"
                                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
                            <Entry x:Name="EntryMeaning" 
                                   Placeholder="è¯·è¾“å…¥ä¸­æ–‡æ„æ€"
                                   TextChanged="OnRequiredFieldChanged"
                                   BackgroundColor="Transparent"/>
                        </Border>
                        <Label x:Name="LblMeaningError" 
                               Text="âš ï¸ æ„æ€ä¸èƒ½ä¸ºç©º" 
                               TextColor="{StaticResource Danger}" 
                               FontSize="12"
                               IsVisible="False"/>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- æ‰©å±•ä¿¡æ¯å¡ç‰‡ -->
            <Border StrokeShape="RoundRectangle 16"
                    Stroke="Transparent"
                    Padding="20"
                    BackgroundColor="{AppThemeBinding Light={StaticResource CardBackground}, Dark={StaticResource CardBackgroundDark}}">
                <Border.Shadow>
                    <Shadow Brush="{StaticResource Gray400}"
                            Offset="0,4"
                            Radius="16"
                            Opacity="0.08"/>
                </Border.Shadow>
                <VerticalStackLayout Spacing="16">
                    <!-- ä¸Šä¸‹æ–‡ -->
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="6">
                            <Label Text="ðŸ“Œ" FontSize="14"/>
                            <Label Text="ä¸Šä¸‹æ–‡ï¼ˆå‡ºçŽ°è¯¥è¯çš„åŽŸå¥ï¼‰" FontAttributes="Bold" FontSize="15"/>
                        </HorizontalStackLayout>
                        <Border StrokeShape="RoundRectangle 12"
                                Stroke="{StaticResource Gray200}"
                                StrokeThickness="1"
                                Padding="12"
                                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
                            <Editor x:Name="EditorContext" 
                                    Placeholder="è¯è¯­å‡ºçŽ°çš„å¥å­ï¼ˆå¯é€‰ï¼‰"
                                    HeightRequest="80"
                                    AutoSize="TextChanges"
                                    BackgroundColor="Transparent"/>
                        </Border>
                    </VerticalStackLayout>

                    <!-- ç”¨æ³•è¯´æ˜Ž -->
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="6">
                            <Label Text="ðŸ’¡" FontSize="14"/>
                            <Label Text="ç”¨æ³•è¯´æ˜Ž" FontAttributes="Bold" FontSize="15"/>
                        </HorizontalStackLayout>
                        <Border StrokeShape="RoundRectangle 12"
                                Stroke="{StaticResource Gray200}"
                                StrokeThickness="1"
                                Padding="12"
                                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
                            <Editor x:Name="EditorUsage" 
                                    Placeholder="ç”¨æ³•è¯´æ˜Žï¼ˆå¯é€‰ï¼‰"
                                    HeightRequest="80"
                                    AutoSize="TextChanges"
                                    BackgroundColor="Transparent"/>
                        </Border>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- ä¾‹å¥å¡ç‰‡ -->
            <Border StrokeShape="RoundRectangle 16"
                    Stroke="Transparent"
                    Padding="20"
                    BackgroundColor="{AppThemeBinding Light={StaticResource CardBackground}, Dark={StaticResource CardBackgroundDark}}">
                <Border.Shadow>
                    <Shadow Brush="{StaticResource Gray400}"
                            Offset="0,4"
                            Radius="16"
                            Opacity="0.08"/>
                </Border.Shadow>
                <VerticalStackLayout Spacing="14">
                    <Grid ColumnDefinitions="*,Auto">
                        <HorizontalStackLayout Grid.Column="0" Spacing="6" VerticalOptions="Center">
                            <Label Text="ðŸ“" FontSize="14"/>
                            <Label Text="ä¾‹å¥" FontAttributes="Bold" FontSize="15"/>
                        </HorizontalStackLayout>
                        <Button Grid.Column="1"
                                Text="âž• æ·»åŠ "
                                FontSize="13"
                                Padding="14,8"
                                CornerRadius="10"
                                MinimumHeightRequest="36"
                                Clicked="OnAddExampleClicked"/>
                    </Grid>

                    <VerticalStackLayout x:Name="ExamplesContainer" Spacing="10">
                        <!-- ä¾‹å¥é¡¹ä¼šåŠ¨æ€æ·»åŠ åˆ°è¿™é‡Œ -->
                    </VerticalStackLayout>

                    <Label x:Name="LblNoExamples"
                           Text="âœ¨ æš‚æ— ä¾‹å¥ï¼Œç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ "
                           TextColor="{StaticResource Gray400}"
                           FontSize="14"
                           HorizontalOptions="Center"/>
                </VerticalStackLayout>
            </Border>

            <!-- ä¿å­˜æŒ‰é’® -->
            <Button x:Name="BtnSave"
                    Text="ðŸ’¾ ä¿å­˜ä¿®æ”¹"
                    FontSize="16"
                    Margin="0,10,0,20"
                    Clicked="OnSaveClicked"/>

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
