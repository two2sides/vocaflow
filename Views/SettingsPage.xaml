<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="VocaFlow.Views.SettingsPage"
             Title="è®¾ç½®">
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <!-- é¡µé¢æ ‡é¢˜åŒºåŸŸ -->
            <Border StrokeShape="RoundRectangle 16"
                    Stroke="Transparent"
                    Padding="20"
                    BackgroundColor="{AppThemeBinding Light={StaticResource PrimaryLight}, Dark={StaticResource SurfaceDark}}">
                <HorizontalStackLayout Spacing="12" HorizontalOptions="Center">
                    <Label Text="âš™ï¸" FontSize="28"/>
                    <Label Text="åº”ç”¨è®¾ç½®" 
                           FontSize="22" 
                           FontAttributes="Bold"
                           TextColor="{StaticResource Primary}"
                           VerticalOptions="Center"/>
                </HorizontalStackLayout>
            </Border>

            <!-- API Key è®¾ç½®å¡ç‰‡ -->
            <Border StrokeShape="RoundRectangle 16"
                    Stroke="Transparent"
                    Padding="20"
                    BackgroundColor="{AppThemeBinding Light={StaticResource CardBackground}, Dark={StaticResource CardBackgroundDark}}">
                <Border.Shadow>
                    <Shadow Brush="{StaticResource Gray400}"
                            Offset="0,4"
                            Radius="16"
                            Opacity="0.08"/>
                </Border.Shadow>
                <VerticalStackLayout Spacing="12">
                    <HorizontalStackLayout Spacing="8">
                        <Label Text="ðŸ”‘" FontSize="18"/>
                        <Label Text="OpenRouter API Key" 
                               FontAttributes="Bold"
                               FontSize="16"/>
                    </HorizontalStackLayout>
                    <Border StrokeShape="RoundRectangle 12"
                            Stroke="{StaticResource Gray200}"
                            StrokeThickness="1"
                            Padding="12,8"
                            BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
                        <Entry x:Name="EntryApiKey" 
                               Placeholder="sk-xxxxxxxx" 
                               IsPassword="True"
                               BackgroundColor="Transparent"/>
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- AI æ¨¡åž‹è®¾ç½®å¡ç‰‡ -->
            <Border StrokeShape="RoundRectangle 16"
                    Stroke="Transparent"
                    Padding="20"
                    BackgroundColor="{AppThemeBinding Light={StaticResource CardBackground}, Dark={StaticResource CardBackgroundDark}}">
                <Border.Shadow>
                    <Shadow Brush="{StaticResource Gray400}"
                            Offset="0,4"
                            Radius="16"
                            Opacity="0.08"/>
                </Border.Shadow>
                <VerticalStackLayout Spacing="12">
                    <HorizontalStackLayout Spacing="8">
                        <Label Text="ðŸ¤–" FontSize="18"/>
                        <Label Text="AI æ¨¡åž‹åç§°" 
                               FontAttributes="Bold"
                               FontSize="16"/>
                    </HorizontalStackLayout>
                    <Label Text="é»˜è®¤: grok-4.1-fast | ç¤ºä¾‹: x-ai/grok-4.1-fast" 
                           FontSize="12" 
                           TextColor="{StaticResource Gray500}"/>
                    <Border StrokeShape="RoundRectangle 12"
                            Stroke="{StaticResource Gray200}"
                            StrokeThickness="1"
                            Padding="12,8"
                            BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
                        <Entry x:Name="EntryModel" 
                               Placeholder="è¯·è¾“å…¥æ¨¡åž‹åç§°"
                               BackgroundColor="Transparent"/>
                    </Border>
                </VerticalStackLayout>
            </Border>

            <!-- Prompt è®¾ç½®å¡ç‰‡ -->
            <Border StrokeShape="RoundRectangle 16"
                    Stroke="Transparent"
                    Padding="20"
                    BackgroundColor="{AppThemeBinding Light={StaticResource CardBackground}, Dark={StaticResource CardBackgroundDark}}">
                <Border.Shadow>
                    <Shadow Brush="{StaticResource Gray400}"
                            Offset="0,4"
                            Radius="16"
                            Opacity="0.08"/>
                </Border.Shadow>
                <VerticalStackLayout Spacing="16">
                    <!-- ç½—é©¬éŸ³ Prompt -->
                    <VerticalStackLayout Spacing="10">
                        <HorizontalStackLayout Spacing="8">
                            <Label Text="ðŸŽµ" FontSize="18"/>
                            <Label Text="ç½—é©¬éŸ³æå– Prompt" 
                                   FontAttributes="Bold"
                                   FontSize="16"/>
                        </HorizontalStackLayout>
                        <Border StrokeShape="RoundRectangle 12"
                                Stroke="{StaticResource Gray200}"
                                StrokeThickness="1"
                                Padding="12"
                                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
                            <Editor x:Name="RomaPrompt" 
                                    Placeholder="è¯·è¾“å…¥Prompt"
                                    HeightRequest="120"
                                    AutoSize="TextChanges"
                                    BackgroundColor="Transparent"/>
                        </Border>
                    </VerticalStackLayout>

                    <BoxView HeightRequest="1" Color="{StaticResource Gray200}"/>

                    <!-- ç”Ÿè¯æå– Prompt -->
                    <VerticalStackLayout Spacing="10">
                        <HorizontalStackLayout Spacing="8">
                            <Label Text="ðŸ“š" FontSize="18"/>
                            <Label Text="ç”Ÿè¯æå– Prompt" 
                                   FontAttributes="Bold"
                                   FontSize="16"/>
                        </HorizontalStackLayout>
                        <Border StrokeShape="RoundRectangle 12"
                                Stroke="{StaticResource Gray200}"
                                StrokeThickness="1"
                                Padding="12"
                                BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceLight}, Dark={StaticResource SurfaceDark}}">
                            <Editor x:Name="VocabPrompt" 
                                    Placeholder="è¯·è¾“å…¥Prompt"
                                    HeightRequest="120"
                                    AutoSize="TextChanges"
                                    BackgroundColor="Transparent"/>
                        </Border>
                    </VerticalStackLayout>
                </VerticalStackLayout>
            </Border>

            <!-- ä¿å­˜æŒ‰é’® -->
            <Button Text="ðŸ’¾ ä¿å­˜è®¾ç½®" 
                    Clicked="OnSaveClicked"
                    FontSize="16"
                    Margin="0,10"/>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>